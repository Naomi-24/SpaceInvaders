#ifndef GAMEOBJECT_H
#define GAMEOBJECT_H

#include "ngl/Vec3.h"
#include "ngl/Obj.h"
#include <string>
#include <unordered_map>
//----------------------------------------------------------------------------------------------------------------------
/// @file gameobject.h
/// @brief the basic game entity class used for the game.
/// @author Naomi Morgan
/// @version 1.0
/// @date 09/05/17
/// @class GameObject
/// @brief This class encapsulates the core state of all objects within the game, including drawing.
//----------------------------------------------------------------------------------------------------------------------
class GameObject
{
public:

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //---PUBLIC FUNCTIONS
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    //----------------------------------------------------------------------------------------------------------------------
    /// @brief ctr for GameObject class.
    /// @param [in] const std::string _meshID
    //----------------------------------------------------------------------------------------------------------------------
    GameObject( const std::string _meshID );

    //----------------------------------------------------------------------------------------------------------------------
    /// @brief dtr for GameObject class.
    /// @param none
    //----------------------------------------------------------------------------------------------------------------------
    ~GameObject();

    //----------------------------------------------------------------------------------------------------------------------
    /// @brief
    /// @param [in] ngl::Vec3
    //----------------------------------------------------------------------------------------------------------------------
    void move(ngl::Vec3);

    //----------------------------------------------------------------------------------------------------------------------
    /// @brief
    /// @param none
    //----------------------------------------------------------------------------------------------------------------------
    void draw();

    //----------------------------------------------------------------------------------------------------------------------
    /// @brief
    /// @param none
    //----------------------------------------------------------------------------------------------------------------------
    void update();

    //----------------------------------------------------------------------------------------------------------------------
    /// @brief getter function for object position, retrieves value(s) of object position (m_pos)
    /// @param none
    //----------------------------------------------------------------------------------------------------------------------
    inline ngl::Vec3 getPos() const { return m_pos; }

    //----------------------------------------------------------------------------------------------------------------------
    /// @brief getter function for object velocity, retrieves value(s) of object velocity (m_velocity)
    /// @param none
    //----------------------------------------------------------------------------------------------------------------------
    inline ngl::Vec3 getVelocity() const {return m_velocity;}

    //----------------------------------------------------------------------------------------------------------------------
    /// @brief getter function for position of bounding sphere centre point
    /// @param none
    //----------------------------------------------------------------------------------------------------------------------
    ngl::Vec3 getCollisionCenter() const {return m_collisionCenter + getPos();}

    //----------------------------------------------------------------------------------------------------------------------
    /// @brief getter function for the length of radius of collision sphere
    /// @param none
    //----------------------------------------------------------------------------------------------------------------------
    float getCollisionRadius() const {return m_collisionRadius;}

    //----------------------------------------------------------------------------------------------------------------------
    /// @brief setter function for object position, sets the value of the objects position value(s) (m_pos)
    /// @param [in] ngl::Vec3 containing position data to write
    //----------------------------------------------------------------------------------------------------------------------
    void setPos(ngl::Vec3);

    //----------------------------------------------------------------------------------------------------------------------
    /// @brief setter function for object velocity, sets the value of the objects velocity value(s) (m_velocity)
    /// @param [in] & velocity
    //----------------------------------------------------------------------------------------------------------------------
    void setVelocity(const ngl::Vec3 & velocity) {m_velocity = velocity;}

    //----------------------------------------------------------------------------------------------------------------------
    /// @brief Destroys all the meshes. Call this at the end of the game.
    /// @param none
    //----------------------------------------------------------------------------------------------------------------------
    static void destroyMeshes();

protected:

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //---PROTECTED ATTRIBUTES
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    ///position of object
    ngl::Vec3                   m_pos;

    ///velocity of object
    ngl::Vec3                   m_velocity;

    ///Rather than storing its own mesh, each instance of game object stored an ID.
    ///We use this id to grab the ngl::obj inside s_meshes that we want to use.
    std::string m_meshID;

private:

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //---PRIVATE ATTRIBUTES
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    /// position of bounding sphere center
    ngl::Vec3                   m_collisionCenter;

    /// length of bounding sphere radius
    float                       m_collisionRadius;

    /// All the meshes are going to be stored in this 'map'. Like an array, but uses strings instead of ints
    static std::unordered_map< std::string, ngl::Obj * > s_meshes;

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //---PUBLIC FUNCTIONS
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    //----------------------------------------------------------------------------------------------------------------------
    /// @brief loads a mesh when called
    /// @param [in] const std::string &_id
    /// @param [in] const std::string &_path
    //----------------------------------------------------------------------------------------------------------------------
    static void loadMesh(const std::string &_id, const std::string &_path );



};

#endif // GAMEOBJECT_H
